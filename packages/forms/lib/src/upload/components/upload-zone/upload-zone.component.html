<div class="m-upload" *ngIf="uploader.options.type === 'drop'">
	<div class="m-upload__inner">
		<div class="m-upload__dropzone">
			<input type="file" [attr.aria-labelledby]="ariaId" [id]="id" #fileInput (change)="updateFiles()" multiple class="m-upload__input" *ngIf="multiple">
			<input type="file" [attr.aria-labelledby]="ariaId" [id]="id" #fileInput (change)="updateFiles()" class="m-upload__input" *ngIf="!multiple">

			<div class="m-upload__content" *ngIf="!uploadProgress || uploadProgress === 0">
				<p class="m-upload__message" [id]="ariaId"><ng-content select=".m-upload__message"></ng-content></p>
			</div>

			<ng-container *ngIf="uploadProgress > 0">
				<p class="m-upload__uploads u-text-bold u-margin-bottom-xs">
					<ng-container *ngFor="let file of uploadingFiles; let last = last">
						{{ file.name }}<ng-container *ngIf="!last">, </ng-container>
					</ng-container>
				</p>
				<aui-progress-bar [value]="uploadProgress" max="100"></aui-progress-bar>
			</ng-container>
		</div>
	</div>

	<small class="m-upload__description"><ng-content select=".m-upload__description"></ng-content></small>
</div>

<button type="button" class="a-button m-upload__button" (click)="triggerFile()" *ngIf="uploader.options.type === 'button'">
	<span [id]="ariaId"><ng-content select=".m-upload__button"></ng-content></span>
	<input style="display:none" type="file" [attr.aria-labelledby]="ariaId" [id]="id" #fileInput (change)="updateFiles()" multiple="multiple">
</button>

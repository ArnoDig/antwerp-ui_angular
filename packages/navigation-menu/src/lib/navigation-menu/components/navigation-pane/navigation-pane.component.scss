@import "../../assets/variables.scss";

:host {
  background: $white;
  max-height: calc(100vh - #{$mobile-menu-height});
  position: absolute;
  top: 0px;
  transition: transform $animation-speed ease;
  width: 100%;
  z-index: layer('header') - 1;

  .o-navigation-pane__overlay {
    background: $overlay-color;
    bottom: 100%;
    height: 0;
    opacity: 0;
    position: absolute;
    transition: opacity $animation-speed*2 ease;
    width: 100vh;
  }

  &.visible {
    transform: translateY(-100%);

    &>.o-navigation-pane__overlay {
      min-height: 100vh;
      opacity: 0.8;
    }

    &>.o-navigation-pane__wrapper {
      margin: -1px;
    }
  }

  @include at($screen-sm) {
    display: none;
  }
}

.o-navigation-pane__wrapper {
  box-shadow: 0rem -0.75rem 0 rgba($black, .1);
  min-height: $spacer; // make up for the box shadow to be visible, even when hiddenq
  max-height: calc(100vh - #{$header-height} - #{$mobile-menu-height});
  overflow-y: scroll;
}

.main-submenu.slide-down {
  animation: slideAway $animation-speed ease;
}

.slide-in-submenu {
  background: $white;
  bottom: 0;
  height: 0;
  left: 0;
  overflow: hidden;
  position: absolute;
  transform: translateX(100%);
  transition: transform $animation-speed ease;
  width: 100%;

  &.visible {
    height: auto;
    overflow: inherit;
    transform: translateX(0);
  }
}

@keyframes slideAway {
  0% {
    transform: translateX(100%);
  }

  100% {
    transform: translateX(0%);
  }
}

@include at($screen-sm) {
  @keyframes slideAway {
    0% {
      transform: translateX(0);
    }

    100% {
      transform: translateX(0);
    }
  }
}
